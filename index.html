<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Line Graph Maker</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0f1724; color: #e6eef6; margin: 0; padding: 20px; }
    h1 { text-align: center; margin-bottom: 20px; }
    .container { max-width: 900px; margin: auto; background: #1b2432; padding: 20px; border-radius: 10px; }
    canvas { width: 100%; height: 400px; background: #071428; border-radius: 8px; }
    .controls { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }
    label { font-size: 14px; }
    input, textarea, button { padding: 8px; border: none; border-radius: 6px; }
    input, textarea { width: 100%; background: #0f1724; color: #e6eef6; }
    button { background: #6ee7b7; color: #04211a; font-weight: bold; cursor: pointer; }
    button:hover { opacity: 0.8; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Simple Line Graph Maker</h1>
    <canvas id="graph"></canvas>

    <div class="controls">
      <label>Horizontal (X) Values (comma separated)</label>
      <input type="text" id="xValues" placeholder="e.g. 1, 2, 3, 4" />

      <label>Vertical (Y) Values (comma separated)</label>
      <input type="text" id="yValues" placeholder="e.g. 5, 8, 6, 10" />

      <label>Line Color</label>
      <input type="color" id="lineColor" value="#6ee7b7" />

      <button id="draw">Draw Graph</button>
      <button id="clear">Clear Graph</button>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('graph');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      const dpr = window.devicePixelRatio || 1;
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * dpr;
      canvas.height = rect.height * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function drawGraph(xVals, yVals, color) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const w = canvas.width, h = canvas.height;
      const pad = 40;

      const xmin = Math.min(...xVals), xmax = Math.max(...xVals);
      const ymin = Math.min(...yVals), ymax = Math.max(...yVals);

      const wx = x => pad + ((x - xmin) / (xmax - xmin)) * (w - 2 * pad);
      const wy = y => h - pad - ((y - ymin) / (ymax - ymin)) * (h - 2 * pad);

      // grid
      ctx.strokeStyle = 'rgba(255,255,255,0.1)';
      ctx.lineWidth = 1;
      for (let i = 0; i <= 5; i++) {
        const y = pad + i * (h - 2 * pad) / 5;
        ctx.beginPath();
        ctx.moveTo(pad, y);
        ctx.lineTo(w - pad, y);
        ctx.stroke();
      }

      // line
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(wx(xVals[0]), wy(yVals[0]));
      for (let i = 1; i < xVals.length; i++) ctx.lineTo(wx(xVals[i]), wy(yVals[i]));
      ctx.stroke();

      // points
      ctx.fillStyle = color;
      for (let i = 0; i < xVals.length; i++) {
        ctx.beginPath();
        ctx.arc(wx(xVals[i]), wy(yVals[i]), 4, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    document.getElementById('draw').addEventListener('click', () => {
      const xInput = document.getElementById('xValues').value;
      const yInput = document.getElementById('yValues').value;
      const color = document.getElementById('lineColor').value;

      if (!xInput || !yInput) return alert('Please enter both X and Y values');

      const xVals = xInput.split(',').map(Number);
      const yVals = yInput.split(',').map(Number);

      if (xVals.length !== yVals.length) return alert('X and Y values must be the same length');

      drawGraph(xVals, yVals, color);
    });

    document.getElementById('clear').addEventListener('click', () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      document.getElementById('xValues').value = '';
      document.getElementById('yValues').value = '';
    });
  </script>
</body>
</html>
